{"version":3,"sources":["components/ListItem/ListItem.module.css","types/catalog.ts","store/reducers /catalogReducer.ts","store/reducers /index.ts","store/index.ts","store/hooks/useTypedSelector.ts","store/actions-creators/catalog.ts","store/actions-creators/index.ts","store/hooks/useAction.ts","components/FavoriteIcon/FavoriteIcon.tsx","components/ListItem/ListItem.tsx","App.tsx","index.tsx"],"names":["module","exports","PhotosActionTypes","initialState","photos","page","error","limit","loading","rootReducer","combineReducers","catalog","state","action","type","FETCH_PHOTOS","FETCH_PHOTOS_SUCCESS","payload","FETCH_PHOTOS_ERROR","FAVORITE_HANDLER","map","el","id","isFavorite","REMOVE_PHOTO_ITEM","filter","store","createStore","applyMiddleware","thunk","logger","useTypedSelector","useSelector","fetchPhotos","dispatch","a","axios","get","params","_page","_limit","response","modifyData","data","favoriteHandler","removePhotoItem","CatalogActionCreator","useActions","useDispatch","bindActionCreators","ActionCreators","FavoriteIcon","props","width","height","viewBox","fill","xmlns","onClick","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ListItem","url","title","Card","sx","maxWidth","className","classes","container","CardActionArea","src","alt","CardMedia","component","image","CardContent","Typography","gutterBottom","variant","App","useState","isSorting","setIsSorting","sortCatalog","useMemo","useEffect","Button","length","albumId","thumbnailUrl","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a9c61525.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ListItem_container__29-DD\"};","export interface PhotoItem {\n    id: number\n    albumId: number\n    title: string\n    url: string\n    thumbnailUrl: string\n    isFavorite?: boolean\n}\n\nexport interface PhotoState {\n    photos: PhotoItem[],\n    page: number,\n    error: string | null,\n    limit: number,\n    loading: boolean\n}\n\nexport enum PhotosActionTypes {\n    FETCH_PHOTOS = 'FETCH_PHOTOS',\n    FETCH_PHOTOS_SUCCESS = 'FETCH_PHOTOS_SUCCESS',\n    FETCH_PHOTOS_ERROR = 'FETCH_PHOTOS_ERROR',\n    FAVORITE_HANDLER = 'FAVORITE_HANDLER',\n    REMOVE_PHOTO_ITEM = 'REMOVE_PHOTO_ITEM'\n}\n\ninterface fetchPhotos {\n    type: PhotosActionTypes.FETCH_PHOTOS\n}\n\ninterface fetchPhotosSuccess {\n    type: PhotosActionTypes.FETCH_PHOTOS_SUCCESS\n    payload: PhotoItem[]\n}\n\ninterface fetchPhotosError {\n    type: PhotosActionTypes.FETCH_PHOTOS_ERROR\n    payload: string\n}\n\ninterface isFavoriteHandler {\n    type: PhotosActionTypes.FAVORITE_HANDLER\n    payload: number\n}\n\ninterface removePhotoItem {\n    type: PhotosActionTypes.REMOVE_PHOTO_ITEM\n    payload: number\n}\n\n\nexport type PhotoAction = fetchPhotos\n    | fetchPhotosSuccess\n    | fetchPhotosError\n    | isFavoriteHandler\n    | removePhotoItem\n","import {PhotoAction, PhotosActionTypes, PhotoState} from \"../../types/catalog\";\n\nconst initialState: PhotoState = {\n    photos: [],\n    page: 1,\n    error: null,\n    limit: 10,\n    loading: false\n}\n\nexport const catalogReducer = (state = initialState, action: PhotoAction): PhotoState => {\n    switch (action.type) {\n        case PhotosActionTypes.FETCH_PHOTOS:\n            return {...state, loading: true}\n        case PhotosActionTypes.FETCH_PHOTOS_SUCCESS:\n            return {...state, loading: false, photos: action.payload}\n        case PhotosActionTypes.FETCH_PHOTOS_ERROR:\n            return {...state, loading: false, error: action.payload}\n        case PhotosActionTypes.FAVORITE_HANDLER:\n            return {\n                ...state,\n                photos: [...state.photos].map(el =>\n                    el.id === action.payload\n                        ? {...el, isFavorite: !el.isFavorite}\n                        : el)\n            }\n        case PhotosActionTypes.REMOVE_PHOTO_ITEM:\n            return {...state, photos: state.photos.filter(el => el.id !== action.payload)}\n        default:\n            return state\n    }\n}","import {combineReducers} from \"redux\";\nimport {catalogReducer} from \"./catalogReducer\";\n\n\nexport const rootReducer = combineReducers({\n    catalog: catalogReducer\n})\n\nexport type RootState = ReturnType<typeof rootReducer>","import {applyMiddleware, createStore} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport logger from 'redux-logger'\nimport {rootReducer} from \"./reducers \";\n\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk, logger))","import {TypedUseSelectorHook, useSelector} from \"react-redux\";\nimport {RootState} from \"../reducers \";\n\n\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector","import {Dispatch} from \"redux\";\nimport axios from \"axios\";\nimport {PhotoAction, PhotoItem, PhotosActionTypes} from \"../../types/catalog\";\n\nexport const fetchPhotos = (page = 1, limit = 10) => {\n    return async (dispatch: Dispatch<PhotoAction>) => {\n        try {\n            dispatch({type: PhotosActionTypes.FETCH_PHOTOS})\n            const response = await axios.get<PhotoItem[]>('https://jsonplaceholder.typicode.com/photos', {\n                params: {_page: page, _limit: limit}\n            })\n\n            const modifyData = response.data.map(el => ({...el, isFavorite: false}))\n\n            dispatch({type: PhotosActionTypes.FETCH_PHOTOS_SUCCESS, payload: modifyData})\n        } catch (e) {\n            dispatch({\n                type: PhotosActionTypes.FETCH_PHOTOS_ERROR,\n                payload: 'Произошла ошибка при загрузке фото'\n            })\n        }\n    }\n}\n\nexport function favoriteHandler(id: number): PhotoAction {\n    return {type: PhotosActionTypes.FAVORITE_HANDLER, payload: id}\n}\n\nexport function removePhotoItem(id: number): PhotoAction {\n    return {type: PhotosActionTypes.REMOVE_PHOTO_ITEM, payload: id}\n}","import * as CatalogActionCreator from './catalog'\n\nexport default {\n    ...CatalogActionCreator\n}","import {useDispatch} from \"react-redux\";\nimport {bindActionCreators} from \"redux\";\nimport ActionCreators from '../actions-creators'\n\nexport const useActions = () => {\n    const dispatch = useDispatch()\n    return bindActionCreators(ActionCreators, dispatch)\n}","import React from 'react';\nimport {useActions} from \"../../store/hooks/useAction\";\n\ninterface FavoriteIconProps {\n    isFavorite: boolean\n    id: number\n}\n\nconst FavoriteIcon = (props: FavoriteIconProps) => {\n    const {favoriteHandler} = useActions()\n\n    return (\n        <svg\n            width=\"32\"\n            height=\"32\"\n            viewBox=\"0 0 32 32\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            onClick={() => favoriteHandler(props.id)}\n        >\n            <path\n                d=\"M27.7867 6.14666C27.1057 5.46533 26.2971 4.92485 25.4071 4.5561C24.5172 4.18735 23.5633 3.99756 22.6 3.99756C21.6367 3.99756 20.6828 4.18735 19.7929 4.5561C18.9029 4.92485 18.0943 5.46533 17.4133 6.14666L16 7.55999L14.5867 6.14666C13.2111 4.77107 11.3454 3.99827 9.4 3.99827C7.45462 3.99827 5.58892 4.77107 4.21333 6.14666C2.83774 7.52225 2.06494 9.38795 2.06494 11.3333C2.06494 13.2787 2.83774 15.1444 4.21333 16.52L5.62666 17.9333L16 28.3067L26.3733 17.9333L27.7867 16.52C28.468 15.839 29.0085 15.0304 29.3772 14.1405C29.746 13.2505 29.9358 12.2966 29.9358 11.3333C29.9358 10.37 29.746 9.41613 29.3772 8.52619C29.0085 7.63624 28.468 6.82767 27.7867 6.14666V6.14666Z\"\n                stroke=\"#000\"\n                fill={props.isFavorite ? '#000' : 'none'}\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n            />\n        </svg>\n\n    );\n};\n\nexport default FavoriteIcon;","import React from 'react';\nimport {Card, CardActionArea, CardContent, CardMedia, Typography} from \"@mui/material\";\nimport {useActions} from \"../../store/hooks/useAction\";\nimport {PhotoItem} from \"../../types/catalog\";\nimport FavoriteIcon from \"../FavoriteIcon/FavoriteIcon\";\n\nimport classes from './ListItem.module.css'\n\nconst ListItem = (props: PhotoItem) => {\n\n    const {url, id, title, isFavorite} = props\n\n    const {removePhotoItem} = useActions()\n\n    return (\n        <Card sx={{maxWidth: 345}} className={classes.container}>\n            <CardActionArea>\n\n                <img\n                    onClick={() => removePhotoItem(id)}\n                    src=\"/icon-close.svg\"\n                    alt=\"\"\n                />\n\n                <CardMedia\n                    component=\"img\"\n                    height=\"140\"\n                    image={url}\n                    alt=\"green iguana\"\n                />\n\n                <CardContent>\n                    <Typography gutterBottom variant=\"h5\" component=\"div\">\n                        {title}\n                    </Typography>\n                    <FavoriteIcon id={id} isFavorite={isFavorite ? isFavorite : false}/>\n                </CardContent>\n\n            </CardActionArea>\n        </Card>\n    );\n};\n\nexport default ListItem;","import React, {useEffect, useMemo, useState} from 'react';\nimport {Button} from \"@mui/material\";\nimport {useTypedSelector} from \"./store/hooks/useTypedSelector\";\nimport {useActions} from \"./store/hooks/useAction\";\nimport ListItem from \"./components/ListItem/ListItem\";\n\nimport './index.css'\n\nfunction App() {\n\n    const {photos, page, limit, loading, error} = useTypedSelector(state => state.catalog)\n    const [isSorting, setIsSorting] = useState(false)\n\n    const {fetchPhotos} = useActions()\n\n    const sortCatalog = useMemo(() => {\n        return [...photos].filter(el => el.isFavorite)\n    }, [photos])\n\n    useEffect(() => {\n        fetchPhotos(page, limit)\n    }, [])\n\n    if (error) return <p>{error}</p>\n    if (loading) return <p>Загрузка...</p>\n\n    return (\n        <div className=\"App\">\n            {isSorting\n                ? <Button\n                    onClick={() => setIsSorting(false)}\n                    variant=\"contained\"\n                >\n                    Сбросить\n                </Button>\n                : <Button\n                    onClick={() => setIsSorting(true)}\n                    variant=\"contained\"\n                >\n                    Показать избранные\n                </Button>\n            }\n\n            <div className='list'>\n                {!isSorting\n                    ? photos.map(el => (\n                        <ListItem\n                            key={el.id}\n                            albumId={el.albumId}\n                            id={el.id}\n                            thumbnailUrl={el.thumbnailUrl}\n                            url={el.url}\n                            title={el.title}\n                            isFavorite={el.isFavorite}\n                        />\n                    ))\n                    : sortCatalog.length > 0 ? sortCatalog.map(el => (\n                        <ListItem\n                            key={el.id}\n                            albumId={el.albumId}\n                            id={el.id}\n                            thumbnailUrl={el.thumbnailUrl}\n                            url={el.url}\n                            title={el.title}\n                            isFavorite={el.isFavorite}\n                        />\n                    )) : <p>Ничего нет..</p>}\n            </div>\n\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store\";\n\nimport App from './App';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}