(this["webpackJsonpalpha-bank"]=this["webpackJsonpalpha-bank"]||[]).push([[0],{61:function(t,e,n){t.exports={container:"ListItem_container__29-DD"}},97:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"fetchPhotos",(function(){return x})),n.d(r,"favoriteHandler",(function(){return F})),n.d(r,"removePhotoItem",(function(){return S}));var a,i=n(0),c=n(34),o=n.n(c),s=n(26),u=n(24),O=n(54),l=n(55),d=n.n(l),j=n(15),b=n(10);!function(t){t.FETCH_PHOTOS="FETCH_PHOTOS",t.FETCH_PHOTOS_SUCCESS="FETCH_PHOTOS_SUCCESS",t.FETCH_PHOTOS_ERROR="FETCH_PHOTOS_ERROR",t.FAVORITE_HANDLER="FAVORITE_HANDLER",t.REMOVE_PHOTO_ITEM="REMOVE_PHOTO_ITEM"}(a||(a={}));var p={photos:[],page:1,error:null,limit:10,loading:!1},h=Object(u.c)({catalog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a.FETCH_PHOTOS:return Object(b.a)(Object(b.a)({},t),{},{loading:!0});case a.FETCH_PHOTOS_SUCCESS:return Object(b.a)(Object(b.a)({},t),{},{loading:!1,photos:e.payload});case a.FETCH_PHOTOS_ERROR:return Object(b.a)(Object(b.a)({},t),{},{loading:!1,error:e.payload});case a.FAVORITE_HANDLER:return Object(b.a)(Object(b.a)({},t),{},{photos:Object(j.a)(t.photos).map((function(t){return t.id===e.payload?Object(b.a)(Object(b.a)({},t),{},{isFavorite:!t.isFavorite}):t}))});case a.REMOVE_PHOTO_ITEM:return Object(b.a)(Object(b.a)({},t),{},{photos:t.photos.filter((function(t){return t.id!==e.payload}))});default:return t}}}),v=Object(u.d)(h,Object(u.a)(O.a,d.a)),f=n(19),E=n(119),m=s.c,_=n(43),C=n.n(_),T=n(59),H=n(60),g=n.n(H),x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return function(){var n=Object(T.a)(C.a.mark((function n(r){var i,c;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:a.FETCH_PHOTOS}),n.next=4,g.a.get("https://jsonplaceholder.typicode.com/photos",{params:{_page:t,_limit:e}});case 4:i=n.sent,c=i.data.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{isFavorite:!1})})),r({type:a.FETCH_PHOTOS_SUCCESS,payload:c}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r({type:a.FETCH_PHOTOS_ERROR,payload:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e"});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t){return n.apply(this,arguments)}}()};function F(t){return{type:a.FAVORITE_HANDLER,payload:t}}function S(t){return{type:a.REMOVE_PHOTO_ITEM,payload:t}}var R=Object(b.a)({},r),P=function(){var t=Object(s.b)();return Object(u.b)(R,t)},y=n(113),I=n(116),k=n(117),L=n(118),w=n(115),M=n(3),A=function(t){var e=P().favoriteHandler;return Object(M.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(){return e(t.id)},children:Object(M.jsx)("path",{d:"M27.7867 6.14666C27.1057 5.46533 26.2971 4.92485 25.4071 4.5561C24.5172 4.18735 23.5633 3.99756 22.6 3.99756C21.6367 3.99756 20.6828 4.18735 19.7929 4.5561C18.9029 4.92485 18.0943 5.46533 17.4133 6.14666L16 7.55999L14.5867 6.14666C13.2111 4.77107 11.3454 3.99827 9.4 3.99827C7.45462 3.99827 5.58892 4.77107 4.21333 6.14666C2.83774 7.52225 2.06494 9.38795 2.06494 11.3333C2.06494 13.2787 2.83774 15.1444 4.21333 16.52L5.62666 17.9333L16 28.3067L26.3733 17.9333L27.7867 16.52C28.468 15.839 29.0085 15.0304 29.3772 14.1405C29.746 13.2505 29.9358 12.2966 29.9358 11.3333C29.9358 10.37 29.746 9.41613 29.3772 8.52619C29.0085 7.63624 28.468 6.82767 27.7867 6.14666V6.14666Z",stroke:"#000",fill:t.isFavorite?"#000":"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},V=n(61),U=n.n(V),N=function(t){var e=t.url,n=t.id,r=t.title,a=t.isFavorite,i=P().removePhotoItem;return Object(M.jsx)(y.a,{sx:{maxWidth:345},className:U.a.container,children:Object(M.jsxs)(I.a,{children:[Object(M.jsx)("img",{onClick:function(){return i(n)},src:"/icon-close.svg",alt:""}),Object(M.jsx)(k.a,{component:"img",height:"140",image:e,alt:"green iguana"}),Object(M.jsxs)(L.a,{children:[Object(M.jsx)(w.a,{gutterBottom:!0,variant:"h5",component:"div",children:r}),Object(M.jsx)(A,{id:n,isFavorite:a||!1})]})]})})};n(97);var D=function(){var t=m((function(t){return t.catalog})),e=t.photos,n=t.page,r=t.limit,a=t.loading,c=t.error,o=Object(i.useState)(!1),s=Object(f.a)(o,2),u=s[0],O=s[1],l=P().fetchPhotos,d=Object(i.useMemo)((function(){return Object(j.a)(e).filter((function(t){return t.isFavorite}))}),[e]);return Object(i.useEffect)((function(){l(n,r)}),[]),c?Object(M.jsx)("p",{children:c}):a?Object(M.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(M.jsxs)("div",{className:"App",children:[u?Object(M.jsx)(E.a,{onClick:function(){return O(!1)},variant:"contained",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}):Object(M.jsx)(E.a,{onClick:function(){return O(!0)},variant:"contained",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),Object(M.jsx)("div",{className:"list",children:u?d.length>0?d.map((function(t){return Object(M.jsx)(N,{albumId:t.albumId,id:t.id,thumbnailUrl:t.thumbnailUrl,url:t.url,title:t.title,isFavorite:t.isFavorite},t.id)})):Object(M.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442.."}):e.map((function(t){return Object(M.jsx)(N,{albumId:t.albumId,id:t.id,thumbnailUrl:t.thumbnailUrl,url:t.url,title:t.title,isFavorite:t.isFavorite},t.id)}))})]})};o.a.render(Object(M.jsx)(s.a,{store:v,children:Object(M.jsx)(D,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.a9c61525.chunk.js.map